<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>Racket Blog (page 11)</title>
    <meta name="description" content="Racket Blog (page 11)">
    <meta name="author"      content="The Unknown Author">
    <meta name="keywords"    content="Chez Scheme, all">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="http://blog.racket-lang.org/index-11.html">


    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link rel="stylesheet" type="text/css" href="/css/blog-fonts.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/feeds/all.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml" href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    </head>
  <body>
<row class="one-column" id="logo"><col-1><a href="http://racket-lang.org"><div id="logo-container"><img id="logo" src="/img/racket-logo.svg"/> Racket</div></a></col-1><col-2><p><a href="/index.html">blog</a></p></col-2></row>
<article class="index" id="home">
<row>

<col-1>
  <p class='date-and-tags'>18 May 2009</p></col-1>

<col-2>
  <h1><a href='/2009/05/scheme-workshop-deadline-not-extended.html'>Scheme Workshop: deadline NOT extended!</a></h1>
  <div class="truncate">
<p><em>posted by John Clements</em></p>

<p>We&rsquo;re holding the line on our submission deadline; it&rsquo;s still June 5, so that gives you about three weeks to write something awesome.</p>

<p>Re-posting the entire CfP on a blog seems a bit tacky, so instead I&rsquo;ll just post the link:</p>

<p><a href="http://blog.plt-scheme.org/2009/01/cfp-scheme-workshop-2009.html"> http://blog.plt-scheme.org/2009/01/cfp-scheme-workshop&ndash;2009.html</a></p>

<p>We look forward to your submissions!</p></div>
  <a class="more" href='/2009/05/scheme-workshop-deadline-not-extended.html'>more →</a>
<col-2>

</row>

</article>
<article class="index" id="home">
<row>

<col-1>
  <p class='date-and-tags'>06 May 2009</p></col-1>

<col-2>
  <h1><a href='/2009/05/what-is-sendsuspend.html'>What is <code>send/suspend</code>?</a></h1>
  <div class="truncate">
<p><em>posted by Jay McCarthy</em></p>

<p>I often ponder what <a href="http://docs.plt-scheme.org/web-server/servlet.html#(def._((lib._web-server/servlet/web..ss)._send/suspend))"><code>send/suspend</code></a> really is. It is a lot like <code>call/cc</code>, but has the curious property that the continuation escapes in a single way and is only called in a particular context. I often wonder if there is something weaker than <code>call/cc</code> that implements <code>send/suspend</code>.</p>

<p>Today I wrote a little dispatcher that uses threads to implement <code>send/suspend</code>. In this implementation, _send_ing truly _suspend_s the computation.</p>

<p>Here&rsquo;s the code: <a href="http://www.copypastecode.com/codes/view/5003">http://www.copypastecode.com/codes/view/5003</a></p>

<p>The trick is to have channels for communicating responses and requests. When you run this example, you should be able to add two numbers. But, in contrast to the normal <code>send/suspend</code>, all the URLs are one-shots, because once the computation is resumed, it moves forward&hellip; it is never saved.</p>

<p>This implementation technique also precludes clever implementations of <code>send/suspend/dispatch</code>, like:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">send/suspend/dispatch</span> <span class="n">mk-page</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/cont.html#(form._((lib._racket/private/more-scheme..rkt)._let/cc))" style="color: inherit">let/cc</a></span> <span class="n">k0</span>
    <span class="p">(</span><span class="n">send/back</span>
     <span class="p">(</span><span class="n">mk-page</span>
      <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" style="color: inherit">lambda</a></span> <span class="p">(</span><span class="n">handler</span><span class="p">)</span>
        <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/cont.html#(form._((lib._racket/private/letstx-scheme..rkt)._let/ec))" style="color: inherit">let/ec</a></span> <span class="n">k1</span> 
          <span class="p">(</span><span class="n">k0</span> <span class="p">(</span><span class="n">handler</span> <span class="p">(</span><span class="n">send/suspend</span> <span class="n">k1</span><span class="p">)))))))))</span>
</pre></div>

</div></div>
  <a class="more" href='/2009/05/what-is-sendsuspend.html'>more →</a>
<col-2>

</row>

</article>
<article class="index" id="home">
<row>

<col-1>
  <p class='date-and-tags'>29 Mar 2009</p></col-1>

<col-2>
  <h1><a href='/2009/03/the-drscheme-repl-isnt-the-one-in-emacs.html'>the DrScheme repl isn&rsquo;t the one in Emacs</a></h1>
  <div class="truncate">
<p><em>posted by matthias</em></p>

<p>Dear old Lisper,</p>

<p>You have found drscheme and it is almost like your old Lisp machine. It is easy to program in it, it has things that nobody else has, and we all love parentheses. But after some initial enthusiasm you are wondering why in the world, we decided not to provide commands for sending individual definitions and expressions from the Definitions window to the Interactions window, aka, REPL.</p>

<p>It wasn&rsquo;t an accident. It was by design after some difficult experiences. I am personally a product of the Emacs world that you are describing below, and my advisor Dan Friedman was called the &ldquo;Lispman&rdquo; on his door sign at Indiana.</p>

<p>When I first discovered the idea of sending individual expressions and definitions from a buffer to a repl, it was a near-religious revelation to me. I wanted everyone to know this trick and use it. When I started teaching the freshman course at Rice, I told our chairman so and he asked &ldquo;why&rdquo;. I was shocked, awed, and I failed to explain to him how it mattered. He was a mathematician and I wrote it off. They don&rsquo;t know.</p>

<p>Then I started watching my sophomores and juniors at Rice in lab. Now that was a true disappointment. Few if any used this trick and when they did, they more often tripped up and got the repl into a state where they didn&rsquo;t know what was going on.</p>

<p>In the mid 90s, I wrote some more Little books with Dan, and boy, time and again, I watched him stumble across the state of the repl. I even watched him re-start the repl and load the whole buffer more often than not.</p>

<p>Why? In the presence of macros and higher-order functions and other beasts, it is difficult for masters of the universe with 30 years of experience to keep track of things. What do you think students with 10 or 20 days worth of experience will do? Is it really such a deep principle of computing to create the objects incrementally in the repl as opposed to thinking systematically through the design of a program?</p>

<p>I decided not and asked Robby to make DrScheme&rsquo;s repl transparent. That is, it re-starts the repl and re-loads the buffer every time. I consider this behavior a suitable compromise: have a repl but don&rsquo;t confuse yourself with send-defs and send-exprs. This is especially true in an age when sending an entire buffer takes as much time as sending an individual expression or definition. Soon we&rsquo;ll get &ldquo;compilation behind your back&rdquo; so that only the current buffer is re-interpreted. It&rsquo;ll start things even faster.</p>

<p>Even though I had used the incremental mode for more than a decade when I switched from Emacs to DrScheme in 1998, I have hardly ever looked back. I miss a few other things but the incremental repl is one of those rituals old Lispers acquired and never questioned &hellip; but it isn&rsquo;t fundamental and critical to anything. (Note there is no qualifying clauses, no when no if no but. I really mean this last sentence the way I spelled it.)</p></div>
  <a class="more" href='/2009/03/the-drscheme-repl-isnt-the-one-in-emacs.html'>more →</a>
<col-2>

</row>

</article>
<article class="index" id="home">
<row>

<col-1>
  <p class='date-and-tags'>22 Mar 2009</p></col-1>

<col-2>
  <h1><a href='/2009/03/plt-scheme-v415.html'>PLT Scheme v4.1.5</a></h1>
  <div class="truncate">
<p><em>posted by Eli Barzilay</em></p>

<p>PLT Scheme version 4.1.5 is now available from  <a href="http://plt-scheme.org/">http://plt-scheme.org/</a></p>

<ul>
 <li>Web Server:
  <ul>
   <li>new URL-based dispatching library <code>web-server/dispatch</code>,</li>
   <li>customizable continuation serialization policies for the stateless web language <code>web-server/stuffers</code>,</li>
   <li>abstraction of serve/servlet to build simpler dispatchers <code>web-server/servlet-env</code>,</li>
   <li>HTTP Digest authentication support <code>web-server/http/digest-auth</code>,</li>
   <li>built-in cookie support in <code>web-server/http/cookie</code> and <code>web-server/http/cookie-parse</code>,</li>
   <li>highlighting and pretty-printing of errors in Xexpr constructions,</li>
   <li>load control dispatcher for limit concurrent sessions <code>web-server/dispatchers/limit</code>.</li></ul></li>
 <li>Scribble:
  <ul>
   <li>Literate programming is now available using the new <code>scribble/lp</code> language.</li>
   <li>A new <code>at-exp</code> language makes it convenient to use the scribble reader&rsquo;s @-expressions for general code.</li>
   <li>The <code>scribble/text</code> preprocessor language has been extended to deal with indentation and other formatting issues.</li>
   <li>The &ldquo;scribble&rdquo; command-line tool accepts a <code>--pdf</code> flag to render PDFs (via pdflatex).</li></ul></li>
 <li>
  <p>DrScheme now provides feedback when PLaneT downloads and installs new packages.</p></li>
 <li>Units &amp; Contracts:
  <ul>
   <li>Elements of unit signatures can now be associated with contracts via the <code>contracted</code> signature form.</li>
   <li>A contract combinator for units, <code>unit/c</code>, has been added.</li>
   <li>The new <code>with-contract</code> form provides a nestable submodule contract boundary, protecting a group of definitions from the surrounding code with contracts.</li>
   <li>The <code>define/contract</code> form has been reworked and new define forms have been added: <code>define-struct/contract</code> and <code>define-unit/contract</code>.</li></ul></li>
 <li>
  <p>Language levels and teachpacks from the DeinProgramm project for the German textbook &ldquo;Die Macht der Abstraktion&rdquo; by Herbert Klaeren and Michael Sperber have been added.</p></li>
 <li>Misc:
  <ul>
   <li>Typed Scheme now comes with several more pre-wrapped libraries, found in the <code>typed</code> collection.</li>
   <li>The <code>xml</code> and <code>html</code> collections are now contracted.</li>
   <li>Binding parsing in net/cgi now interacts with <code>net/uri-codec</code>&rsquo;s configuration parameters.</li>
   <li>DrScheme captures logging output.</li>
   <li>Check syntax: it is now possible to tack arrows crossing the currently selected text.</li>
   <li>New <code>bitwise-bit-field</code> function.</li></ul></li>
 <li>The usual pile of bugfixes. (Notable: <code>scheme/package</code> works, <code>deflate</code> compression fixed, DrScheme language dialog issue resolved, <code>match</code> fixes, Windows networking, and much more.)</li></ul>

<p>[Note that mirror sites can take a while to catch up with the new downloads.]</p>

<p>Feedback Welcome.</p></div>
  <a class="more" href='/2009/03/plt-scheme-v415.html'>more →</a>
<col-2>

</row>

</article>
<article class="index" id="home">
<row>

<col-1>
  <p class='date-and-tags'>12 Mar 2009</p></col-1>

<col-2>
  <h1><a href='/2009/03/maintaining-self-references-in-planet-packages.html'>Maintaining self-references in Planet packages</a></h1>
  <div class="truncate">
<p><em>posted by Carl Eastlund</em></p>

<p><a href="http://docs.plt-scheme.org/planet/index.html">PLaneT packages</a> may refer to themselves (i.e. include <a href="http://docs.plt-scheme.org/guide/module-paths.html">module paths</a> referring to some part of the same package) for a number of reasons. One module may <a href="http://docs.plt-scheme.org/reference/require.html#%28form._%28%28lib._scheme/base..ss%29._require%29%29">require</a> another. <a href="http://docs.plt-scheme.org/scribble/index.html">Scribble</a> documentation traces <a href="http://docs.plt-scheme.org/reference/require.html#%28form._%28%28lib._scheme/base..ss%29._for-label%29%29">for-label</a> imports to construct hypertext links. DrScheme <a href="http://docs.plt-scheme.org/tools/adding-languages.html">language levels</a> may <a href="http://docs.plt-scheme.org/tools/drscheme_language.html#%28meth._%28%28%28lib._drscheme/tool-lib..ss%29._drscheme%7E3alanguage%7E3asimple-module-based-language%7E3c%7E25%7E3e%29._get-module%29%29">provide a module path</a> for an initial <a href="http://docs.plt-scheme.org/guide/eval.html#%28part._namespaces%29">namespace</a>.</p>

<p>In each of these cases, we want the module path to refer to the <a href="http://docs.plt-scheme.org/planet/Using_PLaneT.html#%28part._.Fine-.Grained_.Control_.Over_.Package_.Imports%29">same version</a> of the same package that it occurs in. On the other hand, we do not want to have to manually search and replace the version number every time we update. Before I solved this problem I would often release some new version x.0 of a package, only to find some lingering dependency on y.0 that my search/replace had not caught. Of course, then I had to go back and replace all occurrences of both x.0 and y.0 with x.1 and release again. To avoid this headache, we need a way to express self-referential module paths with precise, implicit version numbers.</p>

<p>The built-in module paths don&rsquo;t quite support this. The relevant forms are PLaneT paths with version numbers, PLaneT paths without version numbers, and relative paths:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._planet))" style="color: inherit">planet</a></span> <span class="n">my/package:1:0/dir/file</span><span class="p">)</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._planet))" style="color: inherit">planet</a></span> <span class="n">my/package/dir/file</span><span class="p">)</span>
<span class="s2">"../dir/file.ss"</span>
</pre></div>

</div>

<p>PLaneT paths with version numbers suffer from the search and replace problem: they become obsolete, and must be changed with every new release.</p>

<p>PLaneT paths without version numbers &ldquo;upgrade&rdquo; with a new release: they automatically refer to the latest version of a package. Unfortunately, this means they aren&rsquo;t really &ldquo;self&rdquo;-references. As soon as version 2.0 is released, every version-free reference to the package refers to 2.0. Even the references in version 1.0 get implicitly updated, and become forward references rather than self-references.</p>

<p>Relative paths are precise, in that they always refer to the same version of the same package. However, because they implicitly refer to the directory containing the source code, they are only valid within a single file. They cannot be reliably passed to DrScheme for a language level namespace, traced for documentation links by Scribble, or used by other such external tools.</p>

<p>None of these options provides precise, stable, externally comprehensible, self-referential module paths.</p>

<p>To fill this need, I have released (planet <a href="http://planet.plt-scheme.org/package-source/cce/scheme.plt/4/1/planet-docs/main/planet.html">cce/scheme:4:1/planet</a>). This module provides PLaneT package authors with several macros that construct references to the current package in require imports, Scribble documentation, and dynamic values. The self-referential modules paths are constructed automatically at compile time based on the <a href="http://docs.plt-scheme.org/reference/stxops.html">source location</a> of the macro use and the <a href="http://docs.plt-scheme.org/planet/search-order.html#%28part._.Acceptable_.Local_.Package%29">local PLaneT package database</a>. Their expanded form always includes an explicit package name and version number (both major and minor). Here I will summarize their use, with (planet my/package:1:0/dir/file) as a running example. For full details, see the <a href="http://planet.plt-scheme.org/package-source/cce/scheme.plt/4/1/planet-docs/main/index.html">online documentation</a> or install the <a href="http://planet.plt-scheme.org/display.ss?package=scheme.plt&amp;amp;owner=cce">package</a>.</p>

<p>To import a module from within a PLaneT package, use the this-package-in require transformer. To re-export bindings from a module imported this way, use the this-package-out provide transformer, or use require/provide/this-package in place of both.</p>

<p>For example, you might want to import and re-export bindings from dir/file:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._require))" style="color: inherit">require</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._planet))" style="color: inherit">planet</a></span> <span class="n">my/package:1:0/dir/file</span><span class="p">))</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._provide))" style="color: inherit">provide</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._all-from-out))" style="color: inherit">all-from-out</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._planet))" style="color: inherit">planet</a></span> <span class="n">my/package:1:0/dir/file</span><span class="p">)))</span>
</pre></div>

</div>

<p>You can leave out the package name and version number, thus making the code invariant across upgrades, by writing:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._require))" style="color: inherit">require</a></span> <span class="p">(</span><span class="n">this-package-in</span> <span class="n">dir/file</span><span class="p">))</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._provide))" style="color: inherit">provide</a></span> <span class="p">(</span><span class="n">this-package-out</span> <span class="n">dir/file</span><span class="p">))</span>
</pre></div>

</div>

<p>Or, you can further simplify it:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="n">require/provide/this-package</span> <span class="n">dir/file</span><span class="p">)</span>
</pre></div>

</div>

<p>All three of the above are equivalent (in version 1.0).</p>

<p>In Scribble documentation, a module often refers to itself via <a href="http://docs.plt-scheme.org/scribble/doc-modules.html#%28form._%28%28lib._scribble/manual..ss%29._defmodule%29%29">defmodule</a>, <a href="http://docs.plt-scheme.org/scribble/doc-modules.html#%28form._%28%28lib._scribble/manual..ss%29._declare-exporting%29%29">declare-exporting</a>, or <a href="http://docs.plt-scheme.org/scribble/scribble_manual_code.html#%28form._%28%28lib._scribble/manual..ss%29._schememodname%29%29">schememodname</a>. I provide the extensions defmodule/this-package, declare-exporting/this-package, and schememodname/this-package, respectively. These macros allow the user to supply a path such as dir/file, or to omit one to refer to the package as a whole (or its main module). In positions where the original macros allow a sequence of module paths, these forms allow two sequences, one for self-referential module paths and one for other paths.</p>

<p>To document an entire module, one might first write:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="n">defmodule</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._planet))" style="color: inherit">planet</a></span> <span class="n">my/package:1:0</span><span class="p">))</span>
</pre></div>

</div>

<p>The automatic self-reference version is simply:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="n">defmodule/this-package</span><span class="p">)</span>
</pre></div>

</div>

<p>In more complicated cases, one might document a sub-part of a package or present bindings from multiple sources:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="n">defmodule</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._planet))" style="color: inherit">planet</a></span> <span class="n">my/package:1:0/dir/file</span><span class="p">)</span>
  <span class="kd">#:use-sources</span>
  <span class="p">[(</span><span class="k"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._planet))" style="color: inherit">planet</a></span> <span class="n">my/package:1:0/private/impl</span><span class="p">)</span> <span class="n">somewhere/else</span><span class="p">])</span>
</pre></div>

</div>

<p>These self-references can still be automated:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="n">defmodule/this-package</span> <span class="n">dir/file</span>
  <span class="kd">#:use-sources</span>
  <span class="p">[</span><span class="n">private/impl</span><span class="p">]</span>
  <span class="p">[</span><span class="n">somewhere/else</span><span class="p">])</span>
</pre></div>

</div>

<p>Finally, I provide this-package-version-symbol for constructing PLaneT package symbols as runtime values. This macro is analogous to <a href="http://docs.plt-scheme.org/planet/Utility_Libraries.html#%28form._%28%28lib._planet/util..ss%29._this-package-version%29%29">this-package-version</a> from the <a href="http://docs.plt-scheme.org/planet/Utility_Libraries.html#%28mod-path._planet/util%29">planet/util</a> collection, but it constructs a symbol rather than an s-expression. You can use this symbol to construct a module path for a DrScheme language level, or escape it with unsyntax in Scribble&rsquo;s <a href="http://docs.plt-scheme.org/scribble/scribble_manual_code.html#%28form._%28%28lib._scribble/manual..ss%29._schemeblock%29%29">schemeblock</a> typesetting to create self-referential example code.</p>

<p>This list of utilities may not be complete. Users may need to write new macros for self-referential PLaneT packages. To that end, (planet <a href="http://planet.plt-scheme.org/package-source/cce/scheme.plt/4/1/planet-docs/main/syntax.html">cce/scheme:4:1/syntax</a>) provides syntax-source-planet-package. This function is analogous to <a href="http://docs.plt-scheme.org/planet/Utility_Libraries.html#%28form._%28%28lib._planet/util..ss%29._this-package-version%29%29">this-package-version</a>, but operates on <a href="http://docs.plt-scheme.org/guide/stx-obj.html">syntax objects</a> and is designed to be used in <a href="http://docs.plt-scheme.org/guide/proc-macros.html">macro transformers</a>. There are also -owner, -name, -major, -minor, and -symbol versions following the same analogy.</p>

<p>I find these tools useful for maintaining my PLaneT packages, and I hope other authors will too. If you do give them a try, please send <a href="http://planet.plt-scheme.org/trac/newticket">feedback</a> on what does or doesn&rsquo;t work, or what might be improved. I would eventually like to add a refined version to the PLT Scheme collections once we get enough experience to know that these tools are fairly complete and usable.</p></div>
  <a class="more" href='/2009/03/maintaining-self-references-in-planet-packages.html'>more →</a>
<col-2>

</row>

</article>
<article class="index" id="home">
<row>

<col-1>
  <p class='date-and-tags'>24 Feb 2009</p></col-1>

<col-2>
  <h1><a href='/2009/02/call-for-participation-writing-typed-scheme-wrapper-modules.html'>Call for Participation: Writing Typed Scheme wrapper modules</a></h1>
  <div class="truncate">
<p><em>posted by Sam Tobin-Hochstadt</em></p>

<p>Typed Scheme is a language for writing PLT Scheme programs that are statically checked for type errors. Right now, Typed Scheme handles a large portion of the PLT Scheme language. However, to use Typed Scheme effectively, we need libraries that work with it. For this task, we&rsquo;re looking for help.</p>

<p>We&rsquo;d like volunteers for writing wrapper modules that adapt untyped libraries to Typed Scheme. This task is very easy for the smallest libraries, but can be much more complicated for larger, complex libraries.</p>

<p>There&rsquo;s a preliminary guide for conversion <a href="http://www.ccs.neu.edu/home/samth/adapt/">here</a> and a list of modules to adapt, and their current status is available <a href="http://www.ccs.neu.edu/home/samth/adapt/Current_Status.html">here</a>.</p>

<p>Questions about this project, and about developing with Typed Scheme in general, can be asked on <a href="mailto:plt-dev@list.cs.brown.edu">plt-dev@list.cs.brown.edu</a> , and questions or comments can be sent directly to me.</p>

<p>We hope to continue making Typed Scheme into a useful tool for PLT Scheme programmers.</p>

<p>Thanks,</p>

<p>Sam, Stevie, and Matthias</p></div>
  <a class="more" href='/2009/02/call-for-participation-writing-typed-scheme-wrapper-modules.html'>more →</a>
<col-2>

</row>

</article>
<article class="index" id="home">
<row>

<col-1>
  <p class='date-and-tags'>18 Feb 2009</p></col-1>

<col-2>
  <h1><a href='/2009/02/steering-scheme.html'>Steering Scheme</a></h1>
  <div class="truncate">
<p><em>posted by matthias</em></p>

<p>Election time is here again. A couple more days and the Scheme community will have a set of new steer-ers.</p>

<p>What should we want from a steering committee?</p>

<p>I have argued at this place before that good language design needs a feedback loop. Language designers write down specs; language implementers translate those specs into compilers and interpreters; programmers use these implementations to produce useful software. The loop comes in when implementers inform designers of flaws, inconsistencies, mistakes, errors, and other internal consistency problems in the specs. This is clearly happening with R6RS, and it is good. Implementers are a biased bunch, however. After all, they work on just one kind of program, and in a highly specialized domain that has been mined for a long time. How can you trust them? [*]</p>

<p>The loop becomes truly useful when people write large software systems (not just compilers, because they really are special cases!) and find that the language fails them in some way. Such failures can come in a number of flavors. For a document such as R6RS, we should hope that programmers can discover problems with porting systems that are apparently due to ambiguities, flaws, mistakes, roaches in the actual document (as opposed to a specific implementation).</p>

<p>So what does this have to do with the steering committee?</p>

<p>The last thing we want from a steering committee is a radical commitment to change (whatever it may be); a prejudice concerning R6RS; a closed mind about the size of &ldquo;Scheme&rdquo; (it&rsquo;s too large, it&rsquo;s too small); a willingness to steer without making observations. A steering committee of overbearing curmudgeons is <em>not</em> what we want.</p>

<p>What we do want is a committee that is willing to figure out how the listening is going to happen; how we can possibly finance a systematic way of listening (writing NSF grants, anyone?); how the feedback is best channeled into language design.</p>

<p>Let&rsquo;s hope we get such a steering committee. The Scheme community deserves it.</p>

<p>[*] No I am not naive enough to think that language implementers don&rsquo;t design languages, and that implementers don&rsquo;t program systems other than implementations. I am just skeptical that it is easy for them to separate out their various roles in an objective manner, even if many of them are able to think at several different levels about programs.</p></div>
  <a class="more" href='/2009/02/steering-scheme.html'>more →</a>
<col-2>

</row>

</article>
<article class="index" id="home">
<row>

<col-1>
  <p class='date-and-tags'>14 Feb 2009</p></col-1>

<col-2>
  <h1><a href='/2009/02/new-contract-related-features.html'>New Contract-Related Features</a></h1>
  <div class="truncate">
<p><em>posted by Stevie</em></p>

<p>In SVN I&rsquo;ve added three new major features that involve contracts. One allows for more fine-grained control of contracts, and the other two allow for the use of contracts with signatures and units.</p>

<h2 id="contract-regions">Contract Regions</h2>

<p><em>Contract regions</em> allow the programmer to protect a region of code with a contract boundary. In addition to the wrapped code, the programmer also provides a name for the region which is used in blame situations and a list of exported variables which can either be protected with contracts or unprotected. The region provides a true contract boundary, in that uses of contracted exports within the region are unprotected. Contract regions are specified with the <code>with-contract</code> form. The following contract region defines two mutually recursive functions:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/region..rkt)._with-contract))" style="color: inherit">with-contract</a></span> <span class="n">region1</span>
 <span class="p">([</span><span class="n">f</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" style="color: inherit">number?</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" style="color: inherit">boolean?</a></span><span class="p">)]</span>
  <span class="p">[</span><span class="n">g</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" style="color: inherit">number?</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" style="color: inherit">boolean?</a></span><span class="p">)])</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">f</span> <span class="n">n</span><span class="p">)</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((quote._~23~25kernel)._if))" style="color: inherit">if</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._zero~3f))" style="color: inherit">zero?</a></span> <span class="n">n</span><span class="p">)</span> <span class="no">#f</span> <span class="p">(</span><span class="n">g</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._sub1))" style="color: inherit">sub1</a></span> <span class="n">n</span><span class="p">))))</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">g</span> <span class="n">n</span><span class="p">)</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((quote._~23~25kernel)._if))" style="color: inherit">if</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._zero~3f))" style="color: inherit">zero?</a></span> <span class="n">n</span><span class="p">)</span> <span class="no">#t</span> <span class="p">(</span><span class="n">f</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._sub1))" style="color: inherit">sub1</a></span> <span class="n">n</span><span class="p">)))))</span>
 <span class="o">```</span>

<span class="ss">The</span> <span class="n">internal</span> <span class="n">calls</span> <span class="n">to</span> <span class="o">`</span><span class="ss">f</span><span class="o">`</span> <span class="ss"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" style="color: inherit">and</a></span> <span class="o">`</span><span class="ss">g</span><span class="o">`</span> <span class="ss">are</span> <span class="n">uncontracted</span><span class="o">,</span> <span class="n">but</span> <span class="n">calls</span> <span class="n">to</span> <span class="o">`</span><span class="ss">f</span><span class="o">`</span><span class="ss"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" style="color: inherit">and</a></span> <span class="o">`</span><span class="ss">g</span><span class="o">`</span> <span class="ss">outside</span> <span class="k"><a href="http://docs.racket-lang.org/reference/createclass.html#(form._((lib._racket/private/class-internal..rkt)._this))" style="color: inherit">this</a></span> <span class="n">region</span> <span class="n">would</span> <span class="n">be</span> <span class="n">appropriately</span> <span class="n">contracted.</span>  <span class="n">First-order</span> <span class="n">checks</span> <span class="n">are</span> <span class="n">performed</span> <span class="n">at</span> <span class="n">the</span> <span class="n">region</span><span class="o">,</span> <span class="n">so</span> <span class="n">the</span>
<span class="n">following</span> <span class="n">region:</span>

<span class="o">```</span><span class="ss">racket</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/region..rkt)._with-contract))" style="color: inherit">with-contract</a></span> <span class="n">region2</span>
 <span class="p">([</span><span class="n">n</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" style="color: inherit">number?</a></span><span class="p">])</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">n</span> <span class="no">#t</span><span class="p">))</span>
 <span class="o">```</span>

<span class="ss">results</span> <span class="n">in</span> <span class="n">the</span> <span class="n">following</span> <span class="n">error:</span>

<span class="o">```</span><span class="ss">racket</span>
<span class="p">(</span><span class="n">region</span> <span class="n">region2</span><span class="p">)</span> <span class="n">broke</span> <span class="n">the</span> <span class="k"><a href="http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/private/base..rkt)._contract))" style="color: inherit">contract</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" style="color: inherit">number?</a></span> <span class="n">on</span> <span class="n">n</span><span class="c1">; expected &lt;number?&gt;, given: #t</span>
</pre></div>

</div>

<p>Notice that the blame not only gives the name of the region, but describes what type of contract boundary was involved.</p>

<p>For contracting a single definition, there is the <code>define/contract</code> form which has a similar syntax to define, except that it takes a contract before the body of the definition.</p>

<p>To compare the two forms, the following two definitions are equivalent:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/region..rkt)._with-contract))" style="color: inherit">with-contract</a></span> <span class="n">fact</span>
 <span class="p">([</span><span class="n">fact</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" style="color: inherit">number?</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" style="color: inherit">number?</a></span><span class="p">)])</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">fact</span> <span class="n">n</span><span class="p">)</span>
   <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((quote._~23~25kernel)._if))" style="color: inherit">if</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._zero~3f))" style="color: inherit">zero?</a></span> <span class="n">n</span><span class="p">)</span> <span class="mi">1</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">n</span> <span class="p">(</span><span class="n">fact</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._sub1))" style="color: inherit">sub1</a></span> <span class="n">n</span><span class="p">))))))</span>

<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/region..rkt)._define/contract))" style="color: inherit">define/contract</a></span> <span class="p">(</span><span class="n">fact</span> <span class="n">n</span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" style="color: inherit">number?</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" style="color: inherit">number?</a></span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((quote._~23~25kernel)._if))" style="color: inherit">if</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._zero~3f))" style="color: inherit">zero?</a></span> <span class="n">n</span><span class="p">)</span> <span class="mi">1</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">n</span> <span class="p">(</span><span class="n">fact</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._sub1))" style="color: inherit">sub1</a></span> <span class="n">n</span><span class="p">)))))</span>
</pre></div>

</div>

<p>First order checks are similarly performed at the definition for <code>define/contract</code>, so</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/region..rkt)._define/contract))" style="color: inherit">define/contract</a></span> <span class="p">(</span><span class="n">fact</span> <span class="n">n</span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" style="color: inherit">number?</a></span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((quote._~23~25kernel)._if))" style="color: inherit">if</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._zero~3f))" style="color: inherit">zero?</a></span> <span class="n">n</span><span class="p">)</span> <span class="mi">1</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" style="color: inherit">*</a></span> <span class="n">n</span> <span class="p">(</span><span class="n">fact</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._sub1))" style="color: inherit">sub1</a></span> <span class="n">n</span><span class="p">)))))</span>
</pre></div>

</div>

<p>results in</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="n">function</span> <span class="n">fact</span><span class="p">)</span> <span class="n">broke</span> <span class="n">the</span> <span class="k"><a href="http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/private/base..rkt)._contract))" style="color: inherit">contract</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" style="color: inherit">number?</a></span><span class="p">)</span> <span class="n">on</span> <span class="n">fact</span><span class="c1">; expected a procedure that accepts no arguments without any keywords, given: #&lt;procedure:fact&gt;</span>
</pre></div>

</div>

<h2 id="signature-contracts">Signature Contracts</h2>

<p>In addition to contract regions, units are also now contract boundaries. One way to use contracts with units is to add contracts to unit signatures via the contracted <code>signature</code> form.</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._define-signature))" style="color: inherit">define-signature</a></span> <span class="n">toy-factory^</span>
 <span class="p">((</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._contracted))" style="color: inherit">contracted</a></span>
   <span class="p">[</span><span class="n">build-toys</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._integer~3f))" style="color: inherit">integer?</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket/contract/base..rkt)._listof))" style="color: inherit">listof</a></span> <span class="n">toy?</span><span class="p">))]</span>
   <span class="p">[</span><span class="n">repaint</span>    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="n">toy?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" style="color: inherit">symbol?</a></span> <span class="n">toy?</span><span class="p">)]</span>
   <span class="p">[</span><span class="n">toy?</span>       <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" style="color: inherit">any/c</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" style="color: inherit">boolean?</a></span><span class="p">)]</span>
   <span class="p">[</span><span class="n">toy-color</span>  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="n">toy?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" style="color: inherit">symbol?</a></span><span class="p">)])))</span>
</pre></div>

</div>

<p>Notice that contracts in a signature can use variables listed in the signature.Now if we take the following implementation of that signature:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/linkinference.html#(form._((lib._racket/unit..rkt)._define-unit))" style="color: inherit">define-unit</a></span> <span class="n">simple-factory@</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._import))" style="color: inherit">import</a></span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._export))" style="color: inherit">export</a></span> <span class="n">toy-factory^</span><span class="p">)</span>

 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define-struct.html#(form._((lib._racket/private/base..rkt)._define-struct))" style="color: inherit">define-struct</a></span> <span class="n">toy</span> <span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="kd">#:transparent</span><span class="p">)</span>

 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">build-toys</span> <span class="n">n</span><span class="p">)</span>
   <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/sequences.html#(def._((lib._racket/private/base..rkt)._in-range))" style="color: inherit">in-range</a></span> <span class="n">n</span><span class="p">)])</span>
     <span class="p">(</span><span class="n">make-toy</span> <span class="o">'</span><span class="ss">blue</span><span class="p">)))</span>

 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">repaint</span> <span class="n">t</span> <span class="n">col</span><span class="p">)</span>
   <span class="p">(</span><span class="n">make-toy</span> <span class="n">col</span><span class="p">)))</span>
</pre></div>

</div>

<p>We get the appropriate contract checks on those exports:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" style="color: inherit">&gt;</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/linkinference.html#(form._((lib._racket/unit..rkt)._define-values/invoke-unit/infer))" style="color: inherit">define-values/invoke-unit/infer</a></span> <span class="n">simple-factory@</span><span class="p">)</span>
<span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" style="color: inherit">&gt;</a></span> <span class="p">(</span><span class="n">build-toys</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">(</span><span class="o">#</span><span class="p">(</span><span class="ss">struct:toy</span> <span class="ss">blue</span><span class="p">)</span> <span class="o">#</span><span class="p">(</span><span class="ss">struct:toy</span> <span class="ss">blue</span><span class="p">)</span> <span class="o">#</span><span class="p">(</span><span class="ss">struct:toy</span> <span class="ss">blue</span><span class="p">))</span>
<span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" style="color: inherit">&gt;</a></span> <span class="p">(</span><span class="n">build-toys</span> <span class="no">#f</span><span class="p">)</span>
<span class="n">top-level</span> <span class="n">broke</span> <span class="n">the</span> <span class="k"><a href="http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/private/base..rkt)._contract))" style="color: inherit">contract</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._integer~3f))" style="color: inherit">integer?</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket/contract/base..rkt)._listof))" style="color: inherit">listof</a></span> <span class="n">toy?</span><span class="p">))</span>
 <span class="n">on</span> <span class="n">build-toys</span><span class="c1">; expected &gt;, given: #f</span>
</pre></div>

</div>

<p>As before, uses of contracted exports inside the unit are not checked.</p>

<p>Since units are contract boundaries, they can be blamed appropriately. Take the following definitions:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/linkinference.html#(form._((lib._racket/unit..rkt)._define-unit))" style="color: inherit">define-unit</a></span> <span class="n">factory-user@</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._import))" style="color: inherit">import</a></span> <span class="n">toy-factory^</span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._export))" style="color: inherit">export</a></span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" style="color: inherit">let</a></span> <span class="p">([</span><span class="n">toys</span> <span class="p">(</span><span class="n">build-toys</span> <span class="mi">3</span><span class="p">)])</span>
   <span class="p">(</span><span class="n">repaint</span> <span class="mi">3</span> <span class="o">'</span><span class="ss">blue</span><span class="p">)))</span>

<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/linkinference.html#(form._((lib._racket/unit..rkt)._define-compound-unit/infer))" style="color: inherit">define-compound-unit/infer</a></span> <span class="n">factory+user@</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._import))" style="color: inherit">import</a></span><span class="p">)</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._export))" style="color: inherit">export</a></span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._link))" style="color: inherit">link</a></span> <span class="n">simple-factory@</span> <span class="n">factory-user@</span><span class="p">))</span>
<span class="n">When</span> <span class="n">we</span> <span class="n">invoke</span> <span class="n">the</span> <span class="n">combined</span> <span class="n">unit:&gt;</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/linkinference.html#(form._((lib._racket/unit..rkt)._define-values/invoke-unit/infer))" style="color: inherit">define-values/invoke-unit/infer</a></span> <span class="n">factory+user@</span><span class="p">)</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._unit))" style="color: inherit">unit</a></span> <span class="n">factory-user@</span><span class="p">)</span> <span class="n">broke</span> <span class="n">the</span> <span class="k"><a href="http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/private/base..rkt)._contract))" style="color: inherit">contract</a></span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="n">toy?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" style="color: inherit">symbol?</a></span> <span class="n">toy?</span><span class="p">)</span>
<span class="n">on</span> <span class="n">repaint</span><span class="c1">; expected &gt;, given: 3</span>
</pre></div>

</div>

<h2 id="unit-contracts">Unit Contracts</h2>

<p>However, we may not always be able to add contracts to signatures. For example, there are many already-existing signatures in PLT Scheme that one may want to implement, or a programmer may want to take a unit value and add contracts to it after the fact.</p>

<p>To do this, there is the <code>unit/c</code> contract combinator. It takes a list of imports and exports, where each signature is paired with a list of variables and their contracts for each signature. So if we had the uncontracted version of the toy-factory^ signature:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._define-signature))" style="color: inherit">define-signature</a></span> <span class="n">toy-factory^</span>
 <span class="p">(</span><span class="n">build-toys</span> <span class="n">repaint</span> <span class="n">toy?</span> <span class="n">toy-color</span><span class="p">))</span>
</pre></div>

</div>

<p>the following contracts would be appropriate for a unit that imports nothing and exports that signature:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/unitcontracts.html#(form._((lib._racket/unit..rkt)._unit/c))" style="color: inherit">unit/c</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._import))" style="color: inherit">import</a></span><span class="p">)</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._export))" style="color: inherit">export</a></span><span class="p">))</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/unitcontracts.html#(form._((lib._racket/unit..rkt)._unit/c))" style="color: inherit">unit/c</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._import))" style="color: inherit">import</a></span><span class="p">)</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._export))" style="color: inherit">export</a></span> <span class="n">toy-factory^</span><span class="p">))</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/unitcontracts.html#(form._((lib._racket/unit..rkt)._unit/c))" style="color: inherit">unit/c</a></span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._import))" style="color: inherit">import</a></span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._export))" style="color: inherit">export</a></span> <span class="p">(</span><span class="n">toy-factory^</span>
          <span class="p">[</span><span class="n">toy-color</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="n">toy?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" style="color: inherit">symbol?</a></span><span class="p">)])))</span>
<span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/unitcontracts.html#(form._((lib._racket/unit..rkt)._unit/c))" style="color: inherit">unit/c</a></span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._import))" style="color: inherit">import</a></span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._export))" style="color: inherit">export</a></span> <span class="p">(</span><span class="n">toy-factory^</span>
          <span class="p">[</span><span class="n">build-toys</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._integer~3f))" style="color: inherit">integer?</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket/contract/base..rkt)._listof))" style="color: inherit">listof</a></span> <span class="n">toy?</span><span class="p">))]</span>
          <span class="p">[</span><span class="n">repaint</span>    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="n">toy?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" style="color: inherit">symbol?</a></span> <span class="n">toy?</span><span class="p">)]</span>
          <span class="p">[</span><span class="n">toy?</span>       <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" style="color: inherit">any/c</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" style="color: inherit">boolean?</a></span><span class="p">)]</span>
          <span class="p">[</span><span class="n">toy-color</span>  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="n">toy?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" style="color: inherit">symbol?</a></span><span class="p">)])))</span>
</pre></div>

</div>

<p>Unit contracts can contain a superset of the import signatures and a subset of the export signatures for a given unit value. Also, variables that are not listed for a given signature are left alone when the contracts are being added.</p>

<p>Since the results of applying <code>unit/c</code> is a new unit, then adding a contract can cause link inference to fail. For example, if we change the definition of <code>simple-factory@</code> above to</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/region..rkt)._define/contract))" style="color: inherit">define/contract</a></span> <span class="n">simple-factory@</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/unitcontracts.html#(form._((lib._racket/unit..rkt)._unit/c))" style="color: inherit">unit/c</a></span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._import))" style="color: inherit">import</a></span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._export))" style="color: inherit">export</a></span> <span class="p">(</span><span class="n">toy-factory^</span>
           <span class="p">[</span><span class="n">build-toys</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._integer~3f))" style="color: inherit">integer?</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket/contract/base..rkt)._listof))" style="color: inherit">listof</a></span> <span class="n">toy?</span><span class="p">))]</span>
           <span class="p">[</span><span class="n">repaint</span>    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="n">toy?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" style="color: inherit">symbol?</a></span> <span class="n">toy?</span><span class="p">)]</span>
           <span class="p">[</span><span class="n">toy?</span>       <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" style="color: inherit">any/c</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" style="color: inherit">boolean?</a></span><span class="p">)]</span>
           <span class="p">[</span><span class="n">toy-color</span>  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="n">toy?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" style="color: inherit">symbol?</a></span><span class="p">)])))</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._unit))" style="color: inherit">unit</a></span>
   <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._import))" style="color: inherit">import</a></span><span class="p">)</span>
   <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._export))" style="color: inherit">export</a></span> <span class="n">toy-factory^</span><span class="p">)</span>

   <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define-struct.html#(form._((lib._racket/private/base..rkt)._define-struct))" style="color: inherit">define-struct</a></span> <span class="n">toy</span> <span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="kd">#:transparent</span><span class="p">)</span>

   <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">build-toys</span> <span class="n">n</span><span class="p">)</span>
     <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/sequences.html#(def._((lib._racket/private/base..rkt)._in-range))" style="color: inherit">in-range</a></span> <span class="n">n</span><span class="p">)])</span>
       <span class="p">(</span><span class="n">make-toy</span> <span class="o">'</span><span class="ss">blue</span><span class="p">)))</span>

   <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">repaint</span> <span class="n">t</span> <span class="n">col</span><span class="p">)</span>
     <span class="p">(</span><span class="n">make-toy</span> <span class="n">col</span><span class="p">))))</span>
</pre></div>

</div>

<p>Then when we try to combine it with the <code>factory-user@</code> unit, we get:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="n">define-compound-unit/infer:</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._not))" style="color: inherit">not</a></span> <span class="n">a</span> <span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._unit))" style="color: inherit">unit</a></span> <span class="n">definition</span> <span class="n">in:</span> <span class="n">simple-factory@</span>
</pre></div>

</div>

<p>One way to solve this is to use <code>define-unit-binding</code> to set up the static information for the new contracted value. Another possibility for unit definitions is to use <code>define-unit/contract</code>:</p>

<div class="brush: racket">
 <div class="pygments">
  <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/unitcontracts.html#(form._((lib._racket/unit..rkt)._define-unit/contract))" style="color: inherit">define-unit/contract</a></span> <span class="n">simple-factory@</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._import))" style="color: inherit">import</a></span><span class="p">)</span>
 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/creatingunits.html#(form._((lib._racket/unit..rkt)._export))" style="color: inherit">export</a></span> <span class="p">(</span><span class="n">toy-factory^</span>
          <span class="p">[</span><span class="n">build-toys</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._integer~3f))" style="color: inherit">integer?</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket/contract/base..rkt)._listof))" style="color: inherit">listof</a></span> <span class="n">toy?</span><span class="p">))]</span>
          <span class="p">[</span><span class="n">repaint</span>    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="n">toy?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" style="color: inherit">symbol?</a></span> <span class="n">toy?</span><span class="p">)]</span>
          <span class="p">[</span><span class="n">toy?</span>       <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" style="color: inherit">any/c</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" style="color: inherit">boolean?</a></span><span class="p">)]</span>
          <span class="p">[</span><span class="n">toy-color</span>  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" style="color: inherit">-&gt;</a></span> <span class="n">toy?</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" style="color: inherit">symbol?</a></span><span class="p">)]))</span>

 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define-struct.html#(form._((lib._racket/private/base..rkt)._define-struct))" style="color: inherit">define-struct</a></span> <span class="n">toy</span> <span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="kd">#:transparent</span><span class="p">)</span>

 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">build-toys</span> <span class="n">n</span><span class="p">)</span>
   <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/sequences.html#(def._((lib._racket/private/base..rkt)._in-range))" style="color: inherit">in-range</a></span> <span class="n">n</span><span class="p">)])</span>
     <span class="p">(</span><span class="n">make-toy</span> <span class="o">'</span><span class="ss">blue</span><span class="p">)))</span>

 <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">repaint</span> <span class="n">t</span> <span class="n">col</span><span class="p">)</span>
   <span class="p">(</span><span class="n">make-toy</span> <span class="n">col</span><span class="p">)))</span>
</pre></div>

</div>

<p>More about these features can be found in the Reference, and a short section about signature and unit contracts has been added to the Guide.</p></div>
  <a class="more" href='/2009/02/new-contract-related-features.html'>more →</a>
<col-2>

</row>

</article>
<article class="index" id="home">
<row>

<col-1>
  <p class='date-and-tags'>29 Jan 2009</p></col-1>

<col-2>
  <h1><a href='/2009/01/cfp-scheme-workshop-2009.html'>CfP: Scheme Workshop 2009!</a></h1>
  <div class="truncate">
<p><em>posted by John Clements</em></p>

<p>SCHEME AND FUNCTIONAL PROGRAMMING WORKSHOP 2009:  Cambridge, Massachusetts:   August 22, 2009:  call for papers:  <a href="http://www.schemeworkshop.org/2009/">http://www.schemeworkshop.org/2009/</a>:</p>

<p>The Scheme and Functional Programming Workshop showcases research and experience related to Scheme, and more broadly to all aspects of functional programming.</p>

<p>Areas of interest include:</p>

<ul>
 <li>
  <p>Language Design, Type Systems, Theory</p></li>
 <li>
  <p>Program Development Environments, Education</p></li>
 <li>
  <p>Agile Methodologies, Lightweight Software Engineering</p></li>
 <li>
  <p>Applications, Implementation, and Experience</p></li>
 <li>
  <p>SRFIs!</p></li></ul>

<p>In addition to technical papers on matters of programming-language research, we encourage submissions that present experience or innovation with a particular project. The key criterion for any paper&mdash;technical or not&mdash;is that it makes a contribution from which other practitioners can benefit.</p>

<p>Dates::</p>

<p>Dates are firm, and will not be extended. Please plan accordingly.</p>

<ul>
 <li>
  <p>Submission Deadline: June 5, 2009 (FIRM)</p></li>
 <li>
  <p>Author Notification: June 26, 2009</p></li>
 <li>
  <p>Final Papers Due: July 24, 2009</p></li>
 <li>
  <p>Workshop: August 22, 2009</p></li></ul>

<p>Program Committee::</p>

<ul>
 <li>
  <p>John Clements, Cal Poly State University (organizer &amp; chair)</p></li>
 <li>
  <p>Dominique Boucher, Nu Echo</p></li>
 <li>
  <p>Abdulaziz Ghuloum, Indiana University</p></li>
 <li>
  <p>David Herman, Northeastern University</p></li>
 <li>
  <p>Shriram Krishnamurthi, Brown University</p></li>
 <li>
  <p>Matthew Might, University of Utah</p></li>
 <li>
  <p>David Van Horn, Northeastern University</p></li></ul>

<p>Publication Policy::</p>

<p>Submitted papers must have content that has not previously been published in other conferences or refereed venues, and simultaneous submission to other conferences or refereed venues is unacceptable.</p>

<p>Publication of a paper at this workshop is not intended to replace conference or journal publication, and does not preclude re-publication of a more complete or finished version of the paper at some later conference or in a journal.</p>

<p>Submission Instructions::</p>

<p>Your submissions should be no longer than 12 pages, including bibliography and appendices. Papers may be shorter than this limit, and the Program Committee encourages authors to submit shorter papers where appropriate.</p>

<p>The conference web page (URL above) contains detailed formatting instructions and LaTeX support files.</p>

<p>Submit your papers using the Continue 2.0 submission server, at the URL:</p>

<p><a href="http://continue2.cs.brown.edu/scheme2009/">http://continue2.cs.brown.edu/scheme2009/</a></p>

<p>We look forward to reading your papers!</p></div>
  <a class="more" href='/2009/01/cfp-scheme-workshop-2009.html'>more →</a>
<col-2>

</row>

</article>
<article class="index" id="home">
<row>

<col-1>
  <p class='date-and-tags'>21 Jan 2009</p></col-1>

<col-2>
  <h1><a href='/2009/01/plt-scheme-v414.html'>PLT Scheme v4.1.4</a></h1>
  <div class="truncate">
<p><em>posted by Eli Barzilay</em></p>

<p>PLT Scheme version 4.1.4 is now available from  <a href="http://plt-scheme.org/">http://plt-scheme.org/</a></p>

<ul>
 <li>
  <p>New libraries include <code>scheme/package' (for nestable static modules) and</code>ffi/objc&rsquo; (support for Objective-C).</p></li>
 <li>
  <p>New teaching support includes a &ldquo;universe.ss&rdquo; teachpack for connecting &ldquo;worlds&rdquo; over a network.</p></li>
 <li>
  <p>Redex now supports automatic test-case generation. Specify a predicate that should hold of your reduction system, and Redex will attempt to falsify it. See &lsquo;redex-check&rsquo; in the manual for more details.</p></li>
 <li>
  <p>Improvements to the run-time system include better and more reliable memory-limit tracking, function contracts that preserve tail recursion in many cases, native debugging backtraces on x86_64, and performance improvements.</p></li>
 <li>
  <p>Improved libraries include enhancements to <code>scheme/sandbox', better handling of zero-sized matches by</code>regexp-split&rsquo; and friends, an <code>equal&gt;' interface for specifying equality on class instances (and more general support for attaching properties to interfaces), equality (via</code>equal&gt;&rsquo;) for image objects, and refinements to `scheme/foreign&rsquo; to support atomic operations and function-pointer conversions.</p></li></ul>

<p>[Note that mirror sites can take a while to catch up with the new downloads.]</p>

<p>Feedback Welcome.</p></div>
  <a class="more" href='/2009/01/plt-scheme-v414.html'>more →</a>
<col-2>

</row>

</article>
<footer>
 <ul class="pagination">
  <li><a href="/index-10.html">
    <quote>&larr;</quote></a></li>
  <li><a href="/index.html">1</a></li>
  <li><a href="/index-2.html">2</a></li>
  <li><a href="/index-3.html">3</a></li>
  <li><a href="/index-4.html">4</a></li>
  <li><a href="/index-5.html">5</a></li>
  <li><a href="/index-6.html">6</a></li>
  <li><a href="/index-7.html">7</a></li>
  <li><a href="/index-8.html">8</a></li>
  <li><a href="/index-9.html">9</a></li>
  <li><a href="/index-10.html">10</a></li>
  <li class="active"><a href="/index-11.html">11</a></li>
  <li><a href="/index-12.html">12</a></li>
  <li><a href="/index-13.html">13</a></li>
  <li><a href="/index-14.html">14</a></li>
  <li><a href="/index-15.html">15</a></li>
  <li><a href="/index-12.html">
    <quote>&rarr;</quote></a></li></ul></footer>

<row class="one-column" id="bottom"><col-1></col-1><col-2>
<p>Made with <a href="https://github.com/greghendershott/frog">Frog</a>, a static-blog generator written in Racket.
<br /><a href="https://github.com/racket/racket-lang-org">Source code</a> for this blog.</col-2></row>
  </body>
</html>